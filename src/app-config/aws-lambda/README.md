{{ $region := .nuon.cloud_account.aws.region }}

<center>
<img src="data:image/png;base64,
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
"/>
<h1>AWS Lambda App Config</h1>

{{ if .nuon.install_stack.outputs }} AWS | {{ dig "account_id" "000000000000" .nuon.install_stack.outputs }} |
{{ $region }} | {{ dig "vpc_id" "vpc-000000" .nuon.install_stack.outputs }} {{ else }} AWS | 000000000000 | xx-vvvv-00 |
vpc-000000 {{ end }}

</center>

### Create a record

```bash
curl -X POST https://{{.nuon.components.api_gateway.outputs.api_gateway.domain_name_id}}/widgets \
     -H Content-Type:"application/json" \
     -d {"id":"7"}
```

### Get a record

```bash
curl https://{{.nuon.components.api_gateway.outputs.api_gateway.domain_name_id}}/widgets/7
```

### View Logs

```txt
{{.nuon.components.lambda_function.outputs.lambda_function.lambda_cloudwatch_log_group_arn}}
```

> NOTE! This is under development

## Full State

<details>
<summary>Full Install State</summary>
<pre>{{ toPrettyJson .nuon }}</pre>
</details>

## Resources

[What is AWS Lambda?](https://docs.aws.amazon.com/lambda/latest/dg/welcome.html)

[API Gateway Terraform Module](https://registry.terraform.io/modules/terraform-aws-modules/apigateway-v2/aws/latest)

[DynamoDB Terraform Module](https://registry.terraform.io/modules/terraform-aws-modules/dynamodb-table/aws/latest)

[Lambda Terraform Module](https://registry.terraform.io/modules/terraform-aws-modules/lambda/aws/latest)
