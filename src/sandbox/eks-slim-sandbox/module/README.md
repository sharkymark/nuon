# Module

## Requirements

| Name                                                                        | Version   |
| --------------------------------------------------------------------------- | --------- |
| <a name="requirement_terraform"></a> [terraform](#requirement_terraform)    | >= 1.7.5  |
| <a name="requirement_aws"></a> [aws](#requirement_aws)                      | >= 5.94.1 |
| <a name="requirement_helm"></a> [helm](#requirement_helm)                   | >= 2.17.0 |
| <a name="requirement_kubectl"></a> [kubectl](#requirement_kubectl)          | >= 1.19   |
| <a name="requirement_kubernetes"></a> [kubernetes](#requirement_kubernetes) | >= 2.36.0 |

## Providers

No providers.

## Modules

| Name                                                                                            | Source | Version |
| ----------------------------------------------------------------------------------------------- | ------ | ------- |
| <a name="module_nuon-aws-eks-sandbox"></a> [nuon-aws-eks-sandbox](#module_nuon-aws-eks-sandbox) | ./..   | n/a     |

## Resources

No resources.

## Inputs

| Name                                                                                                                                                                                             | Description                                                                                                                            | Type                                                                                                                      | Default                                                                                                                                                                                                                                                                                                                                                            | Required |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | :------: |
| <a name="input_additional_access_entry"></a> [additional_access_entry](#input_additional_access_entry)                                                                                           | A single access entry. Useful when providing access to an additional role.                                                             | `map(any)`                                                                                                                | `{}`                                                                                                                                                                                                                                                                                                                                                               |    no    |
| <a name="input_additional_namespaces"></a> [additional_namespaces](#input_additional_namespaces)                                                                                                 | A list of namespaces that should be created on the cluster. The `{{.nuon.install.id}}` namespace is created by default.                | `list(string)`                                                                                                            | `[]`                                                                                                                                                                                                                                                                                                                                                               |    no    |
| <a name="input_additional_tags"></a> [additional_tags](#input_additional_tags)                                                                                                                   | Extra tags to append to the default tags that will be added to install resources.                                                      | `map(any)`                                                                                                                | `{}`                                                                                                                                                                                                                                                                                                                                                               |    no    |
| <a name="input_cluster_name"></a> [cluster_name](#input_cluster_name)                                                                                                                            | The name of the EKS cluster. If not provided, the install ID will be used by default.                                                  | `string`                                                                                                                  | `""`                                                                                                                                                                                                                                                                                                                                                               |    no    |
| <a name="input_cluster_version"></a> [cluster_version](#input_cluster_version)                                                                                                                   | The Kubernetes version to use for the EKS cluster.                                                                                     | `string`                                                                                                                  | `"1.32"`                                                                                                                                                                                                                                                                                                                                                           |    no    |
| <a name="input_default_instance_type"></a> [default_instance_type](#input_default_instance_type)                                                                                                 | The EC2 instance type to use for the EKS cluster's default node group.                                                                 | `string`                                                                                                                  | `"t3a.medium"`                                                                                                                                                                                                                                                                                                                                                     |    no    |
| <a name="input_deprovision_iam_role_arn"></a> [deprovision_iam_role_arn](#input_deprovision_iam_role_arn)                                                                                        | The deprovision IAM Role ARN                                                                                                           | `string`                                                                                                                  | n/a                                                                                                                                                                                                                                                                                                                                                                |   yes    |
| <a name="input_deprovision_role_eks_access_entry_policy_associations"></a> [deprovision_role_eks_access_entry_policy_associations](#input_deprovision_role_eks_access_entry_policy_associations) | EKS Cluster Access Entry Policy Associations for deprovision role.                                                                     | `map(any)`                                                                                                                | <pre>{<br/> "cluster_admin": {<br/> "access_scope": {<br/> "type": "cluster"<br/> },<br/> "policy_arn": "arn:aws:eks::aws:cluster-access-policy/AmazonEKSClusterAdminPolicy"<br/> },<br/> "eks_admin": {<br/> "access_scope": {<br/> "type": "cluster"<br/> },<br/> "policy_arn": "arn:aws:eks::aws:cluster-access-policy/AmazonEKSAdminPolicy"<br/> }<br/>}</pre> |    no    |
| <a name="input_desired_size"></a> [desired_size](#input_desired_size)                                                                                                                            | The desired number of nodes in the managed node group.                                                                                 | `number`                                                                                                                  | `3`                                                                                                                                                                                                                                                                                                                                                                |    no    |
| <a name="input_enable_nuon_dns"></a> [enable_nuon_dns](#input_enable_nuon_dns)                                                                                                                   | Whether or not the cluster should use a nuon-provided nuon.run domain. Controls the cert-manager-issuer and the route_53_zone.         | `string`                                                                                                                  | `"false"`                                                                                                                                                                                                                                                                                                                                                          |    no    |
| <a name="input_internal_root_domain"></a> [internal_root_domain](#input_internal_root_domain)                                                                                                    | The internal root domain.                                                                                                              | `string`                                                                                                                  | n/a                                                                                                                                                                                                                                                                                                                                                                |   yes    |
| <a name="input_kyverno_policy_dir"></a> [kyverno_policy_dir](#input_kyverno_policy_dir)                                                                                                          | Path to a directory with kyverno policy manifests.                                                                                     | `string`                                                                                                                  | n/a                                                                                                                                                                                                                                                                                                                                                                |   yes    |
| <a name="input_maintenance_cluster_role_rules_override"></a> [maintenance_cluster_role_rules_override](#input_maintenance_cluster_role_rules_override)                                           | A list of rules for the ClusterRole definition for the maintenance group. If this value is provided, these rules will be used instead. | <pre>list(object({<br/> apiGroups = list(string),<br/> resources = list(string),<br/> verbs = list(string)<br/> }))</pre> | `[]`                                                                                                                                                                                                                                                                                                                                                               |    no    |
| <a name="input_maintenance_iam_role_arn"></a> [maintenance_iam_role_arn](#input_maintenance_iam_role_arn)                                                                                        | The provision IAM Role ARN                                                                                                             | `string`                                                                                                                  | n/a                                                                                                                                                                                                                                                                                                                                                                |   yes    |
| <a name="input_maintenance_role_eks_access_entry_policy_associations"></a> [maintenance_role_eks_access_entry_policy_associations](#input_maintenance_role_eks_access_entry_policy_associations) | EKS Cluster Access Entry Policy Associations for maintenance role.                                                                     | `map(any)`                                                                                                                | `{}`                                                                                                                                                                                                                                                                                                                                                               |    no    |
| <a name="input_max_size"></a> [max_size](#input_max_size)                                                                                                                                        | The maximum number of nodes in the managed node group.                                                                                 | `number`                                                                                                                  | `5`                                                                                                                                                                                                                                                                                                                                                                |    no    |
| <a name="input_min_size"></a> [min_size](#input_min_size)                                                                                                                                        | The minimum number of nodes in the managed node group.                                                                                 | `number`                                                                                                                  | `2`                                                                                                                                                                                                                                                                                                                                                                |    no    |
| <a name="input_nuon_id"></a> [nuon_id](#input_nuon_id)                                                                                                                                           | The nuon id for this install. Used for naming purposes.                                                                                | `string`                                                                                                                  | n/a                                                                                                                                                                                                                                                                                                                                                                |   yes    |
| <a name="input_provision_iam_role_arn"></a> [provision_iam_role_arn](#input_provision_iam_role_arn)                                                                                              | The maintenance IAM Role ARN                                                                                                           | `string`                                                                                                                  | n/a                                                                                                                                                                                                                                                                                                                                                                |   yes    |
| <a name="input_provision_role_eks_access_entry_policy_associations"></a> [provision_role_eks_access_entry_policy_associations](#input_provision_role_eks_access_entry_policy_associations)       | EKS Cluster Access Entry Policy Associations for provision role.                                                                       | `map(any)`                                                                                                                | <pre>{<br/> "cluster_admin": {<br/> "access_scope": {<br/> "type": "cluster"<br/> },<br/> "policy_arn": "arn:aws:eks::aws:cluster-access-policy/AmazonEKSClusterAdminPolicy"<br/> },<br/> "eks_admin": {<br/> "access_scope": {<br/> "type": "cluster"<br/> },<br/> "policy_arn": "arn:aws:eks::aws:cluster-access-policy/AmazonEKSAdminPolicy"<br/> }<br/>}</pre> |    no    |
| <a name="input_public_root_domain"></a> [public_root_domain](#input_public_root_domain)                                                                                                          | The public root domain.                                                                                                                | `string`                                                                                                                  | n/a                                                                                                                                                                                                                                                                                                                                                                |   yes    |
| <a name="input_region"></a> [region](#input_region)                                                                                                                                              | The region to launch the cluster in.                                                                                                   | `string`                                                                                                                  | n/a                                                                                                                                                                                                                                                                                                                                                                |   yes    |
| <a name="input_tags"></a> [tags](#input_tags)                                                                                                                                                    | List of custom tags to add to the install resources. Used for taxonomic purposes.                                                      | `map(any)`                                                                                                                | n/a                                                                                                                                                                                                                                                                                                                                                                |   yes    |
| <a name="input_vpc_id"></a> [vpc_id](#input_vpc_id)                                                                                                                                              | The ID of the AWS VPC to provision the sandbox in.                                                                                     | `string`                                                                                                                  | n/a                                                                                                                                                                                                                                                                                                                                                                |   yes    |

## Outputs

| Name                                                        | Description |
| ----------------------------------------------------------- | ----------- |
| <a name="output_account"></a> [account](#output_account)    | n/a         |
| <a name="output_cluster"></a> [cluster](#output_cluster)    | n/a         |
| <a name="output_ecr"></a> [ecr](#output_ecr)                | n/a         |
| <a name="output_nuon_dns"></a> [nuon_dns](#output_nuon_dns) | n/a         |
| <a name="output_vpc"></a> [vpc](#output_vpc)                | n/a         |
